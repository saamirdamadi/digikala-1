(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9442],{87225:function(e,s,t){"use strict";t.d(s,{n:function(){return r}});var n=t(52322),i=t(57931),o=t(74136),l=t(98634),a=t(72677);function r(e){var s=e.className,t=e.username,r=e.isFollowing,c=e.onSuccess,u=void 0===c?l.ZT:c,d=e.color,m=e.size,x=e.isFollowLabel,p=e.isNotFollowLabel,f=e.isFollowShape,v=e.isNotFollowShape,g=e.hasColor,h=e.onDataTracker,j=(0,o.l)({isFollowing:r,onSuccess:u,username:t}),N=j.onFollowStateChangeAction,w=j.isFollowing,C=j.pending;return(0,n.jsx)(i.z,{className:(0,a.d)(s,"whitespace-nowrap"),label:w?void 0===x?"دنبال شده":x:void 0===p?"دنبال کن":p,shape:w?void 0===f?"outlined":f:void 0===v?"filled":v,color:w&&void 0!==g&&g?"black":void 0===d?"primary":d,size:void 0===m?"medium":m,loading:C,onClick:function(){N(),h&&h()}})}},70070:function(e,s,t){"use strict";t.d(s,{M:function(){return r}});var n=t(52322),i=t(31909),o=t(98723),l=t(26442),a=t(72677);function r(e){var s=e.postAuthor,t=e.className,r=s||{},c=r.authorPhoto,u=r.authorUsername;return(0,n.jsx)(o.r,{to:(0,l.kK)(u),children:(0,n.jsxs)("div",{className:(0,a.d)("py-2 flex items-center",t),children:[(0,n.jsx)(i.E,{width:32,height:32,className:"rounded-circle overflow-hidden ml-3",src:"/statics/img/png/default-avatar.png",image:c}),(0,n.jsx)("span",{className:"text-body-1 text-neutral-700",children:u})]})})}},93053:function(e,s,t){"use strict";t.d(s,{e:function(){return g}});var n=t(52322),i=t(2784),o=t(23248),l=t(72610),a=t(41435),r=t(72677),c=t(95391),u=t(70070),d=t(5046),m=t(23568),x=t(78186),p=t(84714),f=t(19313),v=t.n(f);function g(e){var s=e.post,t=e.pending,f=(0,p.g)(s),g=f.handleLikePost,h=f.isLiked,j=f.likesCount,N=(0,i.useCallback)(function(){return(0,i.useMemo)(function(){return(0,n.jsx)("div",{className:v().mediaContainer,children:(0,n.jsx)(m.F,{postMedia:s.postMedia})})},[null==s?void 0:s.postId])},[null==s?void 0:s.postId]);return t||(0,a.x)(null==s?void 0:s.postId)?(0,n.jsx)(l.g,{className:v().loading}):(0,n.jsxs)("div",{className:(0,r.d)("flex",v().mainContainer),children:[(0,n.jsxs)("div",{className:(0,r.d)(v().infoContainer,"flex flex-col flex-1 sticky pl-4 overflow-auto h-auto"),children:[(0,n.jsx)(u.M,{className:"mb-3",postAuthor:s.postAuthor}),(0,n.jsxs)("div",{className:"max-h-[450px] overflow-auto",children:[(0,n.jsx)(d.l,{className:"mb-3",post:s}),(0,n.jsx)(c.k,{className:"py-3 border-complete-b border-complete-t",products:s.postProducts}),(0,n.jsx)(o.D,{postId:s.postId})]}),(0,n.jsx)(x.k,{likesCount:j,isLiked:h,commentsCount:null==s?void 0:s.postCommentsCount,postCreatedAt:null==s?void 0:s.postCreatedAt,postShareUrls:null==s?void 0:s.postShareUrls,handleLikePost:g})]}),(0,n.jsx)(N,{})]})}},31192:function(e,s,t){"use strict";t.d(s,{E:function(){return r}});var n=t(52322),i=t(98780),o=t(72677),l=t(73186),a=t.n(l);function r(e){var s=e.className,t=e.direction,l=e.onClick,r="chevron".concat(t[0].toUpperCase()).concat(t.slice(1));return(0,n.jsx)("div",{onClick:l,className:(0,o.d)(s,"p-2 rounded-circle border-complete absolute bottom-0 top-0 m-auto h-max bg-neutral-000 cursor-pointer",a()[t]),children:(0,n.jsx)(i.J,{icon:r,color:"low-emphasis",size:24})})}},78186:function(e,s,t){"use strict";t.d(s,{k:function(){return u}});var n=t(52322),i=t(28147),o=t(98780),l=t(75490),a=t(52216),r=t(96879),c={isLiked:{iconColor:"primary",iconName:"favoriteOn"},isDisliked:{iconColor:"low-emphasis",iconName:"favoriteOff"}};function u(e){var s=e.likesCount,t=e.isLiked,u=e.commentsCount,d=e.postCreatedAt,m=e.postShareUrls,x=e.handleLikePost,p=t?c.isLiked:c.isDisliked;return(0,n.jsxs)("div",{className:"flex items-center justify-between py-1 mt-auto sticky bg-neutral-000 border-complete-t",children:[(0,n.jsx)("span",{className:"text-body-2 text-neutral-400 mr-2",children:(0,a.U)(d)}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-neutral-400",children:[(0,n.jsxs)("span",{className:"cursor-pointer p-2 flex items-center text-button-1 user-select-none",onClick:x,children:[(0,n.jsx)(r.I,{value:s}),(0,n.jsx)(o.J,{className:"mr-1",size:24,color:null==p?void 0:p.iconColor,icon:null==p?void 0:p.iconName})]}),(0,n.jsxs)("span",{className:"p-2 flex items-center text-button-1 mx-1",onClick:function(){(0,l.p)({message:"برای استفاده از امکانات کامل از اپلیکیشن استفاده کنید."})},children:[(0,n.jsx)(r.I,{value:u}),(0,n.jsx)(o.J,{className:"mr-1",color:"low-emphasis",size:24,icon:"comment"})]}),(0,n.jsx)("span",{className:"cursor-pointer p-2 flex items-center text-button-1",children:(0,n.jsx)(i.z,{shareUrls:m,iconColor:"low-emphasis",shareMessage:"این پست رو با دوستان خود به اشتراک بگذارید."})})]})]})}},643:function(e,s,t){"use strict";t.d(s,{h:function(){return c}});var n=t(52322),i=t(28147),o=t(98780),l=t(89763),a=t(64177),r=t(27314);function c(e){var s=e.shareUrls,t=e.leftSlot,c=e.headerTitle,u=e.hasBackButton,d=e.hasInstallAppCta,m=(0,a.C)().isDesktop,x=(0,r.e)().back;return(0,n.jsxs)("div",{className:"px-6",children:[(0,n.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex gap-5 items-center",children:[(void 0===u||u)&&(0,n.jsx)(o.J,{icon:"arrowRight",size:24,onClick:x}),c&&(0,n.jsx)("span",{className:"text-h4 color-neutral-700",children:c})]}),(0,n.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,n.jsx)(i.z,{shareUrls:s,shareMessage:"این پروفایل رو با دوستان خود به اشتراک بگذارید."}),t]})]}),d&&!m&&(0,n.jsx)(l.F,{className:"mb-3"})]})}},57727:function(e,s,t){"use strict";t.d(s,{I:function(){return el}});var n=t(52322),i=t(5632),o=t(26442),l=t(64177),a=t(41435),r=t(70865),c=t(26297),u=t(2784),d=t(50603),m=t(72677),x=t(93053),p=t(31192),f=t(54925),v=t.n(f);function g(e){var s=e.isOpen,t=e.onDismiss,i=e.onNextPostButtonClick,o=e.onPreviousPostButtonClick,l=e.hasNextButton,a=void 0!==l&&l,f=e.hasPreviousButton,g=void 0!==f&&f,h=(0,c.Z)(e,["isOpen","onDismiss","onNextPostButtonClick","onPreviousPostButtonClick","hasNextButton","hasPreviousButton"]);return(0,u.useEffect)(function(){var e=function(e){var s=e.key;g&&"ArrowRight"===s&&o(),a&&"ArrowLeft"===s&&i()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[o,i,a,g]),(0,n.jsxs)(d.Modal,{shouldCloseOnPageChange:!1,isOpen:s,onDismiss:t,headerTitle:"پست‌ها",width:950,height:670,isOverflowYVisible:!0,headerHasBorderRadius:!0,headerClassName:(0,m.d)(v().header,"px-5"),layoutClassName:v().modalBody,childrenClassName:"h-full py-4 px-5",children:[a&&!!i&&(0,n.jsx)(p.E,{onClick:i,direction:"left"}),g&&!!o&&(0,n.jsx)(p.E,{onClick:o,direction:"right"}),(0,n.jsx)(x.e,(0,r.Z)({},h))]})}var h=t(66383),j=t(50930),N=t(72610),w=t(97411),C=t(72873),b=t(87049),k=t(6013),y=t(1324),_=t(96207),P=(0,y.q)({url:function(e){var s=e.username;return"/magnet/profile-suggestions/".concat(s,"/")},transformer:function(e){var s,t=(e.data||{}).suggested_users;return{users:(null==t?void 0:null===(s=t.map)||void 0===s?void 0:s.call(t,function(e){return(0,_.s)({data:e})}))||[]}}}),I=t(98780),D=t(31909),U=t(98723),F=t(87225),S=t(98204),B=t.n(S);function L(e){var s=e.user,t=e.onUserDeleted,i=s||{},l=i.photo,a=i.name,r=i.username,c=i.isFollowing;return(0,n.jsxs)("div",{className:(0,m.d)("flex flex-col gap-2 items-center justify-center border-complete rounded p-3 ml-3",B().SuggestedUsersItem),children:[(0,n.jsxs)("div",{className:"px-6 relative",children:[(0,n.jsx)(I.J,{className:"absolute left-0 top-0",icon:"close",color:"low-emphasis",onClick:function(){return t(r)}}),(0,n.jsx)(U.r,{to:(0,o.kK)(r),children:(0,n.jsx)(D.E,{imageClassName:"rounded-circle",image:l,src:"/statics/img/svg/profile/magnet-default-avatart.svg",height:72,width:72})})]}),(0,n.jsx)("div",{className:"text-body-1 text-neutral-800 text-center w-full ellipsis",children:a}),(0,n.jsx)(F.n,{className:"w-full",isFollowing:c,username:r})]})}function E(e){var s,t=e.className,i=e.user,o=(0,b.v)(k.p.isLoggedIn),l=(0,C.V)({apiMethod:o?P:null,apiData:{username:null==i?void 0:i.username},disabled:(0,a.x)(null==i?void 0:i.username)}),r=l.data,c=l.pending,d=(r||{}).users,m=(0,h.Z)((0,u.useState)([]),2),x=m[0],p=m[1],f=function(e){p((0,j.Z)(x).concat([e]))},v=null==d?void 0:null===(s=d.filter)||void 0===s?void 0:s.call(d,function(e){var s=e.username;return!x.includes(s)});return(0,a.x)(v)?null:(0,n.jsx)("div",{className:t,children:c?(0,n.jsx)(N.g,{className:"my-10"}):(0,n.jsxs)("div",{className:"lg:border-complete-b lg:border-complete-t pt-6 pb-3",children:[(0,n.jsx)("div",{className:"text-h5 text-neutral-800 mb-3",children:"کاربران پیشنهادی"}),(0,n.jsx)(w.l,{spaceBetween:0,items:v.map(function(e){return(0,n.jsx)(L,{user:e,onUserDeleted:f},e.username)})})]})})}var M=t(57033),O=t(14061),z=t(70582),A=t(82332),T={IMAGE:"image",VIDEO:"video"};function V(e){var s=e.isUserOwnProfile;return(0,n.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[(0,n.jsx)(D.E,{width:200,height:150,src:s?"/statics/img/png/magnet/profile/magnet-profile-own-profile-empty.png":"/statics/img/png/magnet/profile/profile-empty-state.png"}),s?(0,n.jsxs)("div",{className:"text-body1-strong mt-3 text-center text-neutral-600",children:[(0,n.jsx)("p",{children:"هنوز هیچ پستی نداری؟"}),(0,n.jsx)("p",{children:"همین حالا تجربه خریدت رو با میلیون‌ها"}),(0,n.jsx)("p",{children:"دیجی‌کالایی به اشتراک بذار!"})]}):(0,n.jsx)("div",{className:"text-body1-strong mt-2 text-neutral-600",children:"هنوز هیچ محتوایی پست نکرده!"})]})}var q=t(31354),Z=t.n(q);function J(e){var s=e.posts,t=e.postsPager,i=e.fetchPage,o=e.pending,r=e.className,c=e.onPostClick,d=e.isUserProfile,x=(0,l.C)().isDesktop,p=(0,u.useCallback)(function(e){var s=e||{},t=s.postId,i=s.postMedia,o=(0,A.t)(null==i?void 0:i[0].postMediaType,T.VIDEO);return(0,a.x)(t)?(0,n.jsx)(O.O,{radiusSize:"0",width:x?220:119,height:x?220:119,itemClassName:"m-2 aspect-square"}):(0,n.jsxs)(n.Fragment,{children:[o&&(0,n.jsx)("div",{className:"absolute z-1 pointer-events-none",children:(0,n.jsx)(I.J,{icon:"playVideo",size:48,color:"white"})}),(0,n.jsx)(D.E,{onClick:function(){c(e)},image:o?null==i?void 0:i[0].postMediaBigCover:(0,z.W)({data:null==i?void 0:i[0].postMediaUrl}),objectFit:"cover",imageClassName:"aspect-square",className:(0,m.d)("flex cursor-pointer",Z().postViewImage)},t)]})},[]);return(null==t?void 0:t.pagerCurrentPage)===1&&o&&(0,a.x)(s)?(0,n.jsx)(N.g,{className:"my-20"}):(0,a.x)(s)&&!o?(0,n.jsx)(V,{isUserOwnProfile:void 0!==d&&d}):(0,n.jsx)("div",{className:r,children:(0,n.jsx)(M.S,{itemComponent:p,items:s,pager:t,itemsPerRow:3,spaceBetween:1,itemHasBorder:!1,fetchPage:i,pending:o,itemClassName:"flex justify-center items-center",hidePagination:!0})})}var R=t(78410),H=t(57931),K=t(838),X=t.n(K);function G(e){var s=e.className,t=e.username,i=e.sellerInfo,l=e.isUserProfile,r=e.isFollowing,c=(0,m.d)("whitespace-nowrap w-full",X().button);return(0,n.jsx)("div",{className:s,children:l?(0,n.jsx)(H.z,{className:c,mode:"outlined",to:o.nF,children:"ویرایش پروفایل"}):(0,n.jsxs)("div",{className:"flex gap-3",children:[!(0,a.x)(null==i?void 0:i.sellerCode)&&(0,n.jsx)(H.z,{className:c,mode:"outlined",to:(0,o.cU)(null==i?void 0:i.sellerCode),children:"فروشگاه"}),(0,n.jsx)(F.n,{className:c,isFollowing:r,username:t})]})})}var W=t(3162),Y=t.n(W);function Q(e){var s=e.user,t=(0,l.C)().isDesktop,i=s||{},o=i.photo,r=i.badge,c=t?100:72;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(D.E,{className:"shrink-0",imageClassName:"rounded-circle",src:"/statics/img/svg/profile/magnet-default-avatart.svg",image:o,height:c,width:c}),!(0,a.x)(null==r?void 0:r.userBadgeLogo)&&(0,n.jsx)("div",{className:(0,m.d)("absolute right-0 bottom-0 bg-neutral-000 rounded-circle",Y().badge__container),children:(0,n.jsx)(D.E,{width:20,height:20,image:r.userBadgeLogo})})]})}var $=t(47140),ee=t(96879);function es(e){var s=e.value,t=e.name,i=e.isDisabled,o=e.to,l=e.isLoading;return(0,n.jsxs)(U.r,{className:(0,m.d)("flex flex-col items-center lg:w-full",{"cursor-pointer":o&&!i}),to:o,children:[(0,n.jsx)("div",{children:void 0!==l&&l?(0,n.jsx)(O.O,{width:20,height:6}):(0,n.jsx)(ee.I,{value:s,valueClassName:(0,m.d)("text-h5",i?"text-neutral-300":"text-neutral-800"),unitClassName:(0,m.d)("text-h5",i?"text-neutral-300":"text-neutral-800")})}),(0,n.jsx)("span",{className:"text-neutral-500 text-body-2",children:t})]})}var et=t(18453),en=t.n(et);function ei(e){var s=e.user,t=e.postsCount,i=e.isUserProfile,a=e.isStatisticsLoading,r=(0,l.C)().isDesktop,c=s||{},u=c.followingCount,d=c.followersCount,x=c.username,p=[{name:"دنبال‌کننده",value:d,isDisabled:!i&&0===d,to:(0,o.Ue)(x,$.v.followers)},{name:"دنبال‌شونده",value:u,isDisabled:!i&&0===u,to:(0,o.Ue)(x,$.v.following)},{name:"پست‌ها",value:t}];return(0,n.jsx)("div",{className:"flex lg:justify-between justify-start gap-3 lg:gap-0 items-center w-full",children:p.map(function(e,s){var t=e.name,i=e.value,o=e.isDisabled,l=e.to;return(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsx)(es,{name:t,value:i,to:l,isDisabled:o,isLoading:a}),s!==p.length-1&&r&&(0,n.jsx)("div",{className:(0,m.d)("border-complete-r-200",en().Divider)})]},s)})})}function eo(e){var s=e.className,t=e.user,i=e.postsCount,o=e.isUserProfile,a=e.isFollowing,r=e.isStatisticsLoading,c=(0,l.C)().isDesktop,u=t||{},d=u.name,m=u.bio,x=u.username,p=u.sellerInfo;return(0,n.jsxs)("div",{className:s,children:[(0,n.jsxs)("div",{className:"px-8 lg:px-6 flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center lg:gap-4 gap-6",children:[(0,n.jsx)(Q,{user:t}),(0,n.jsx)(ei,{user:t,postsCount:i,isUserProfile:o,isStatisticsLoading:void 0!==r&&r}),c&&(0,n.jsx)(G,{isUserProfile:o,isFollowing:a,username:x,sellerInfo:p})]}),(0,n.jsx)("span",{className:"text-h4 text-neutral-800 mt-2 lg:mt-3",children:d}),(0,n.jsx)("span",{className:"text-body-1 text-neutral-500",children:m})]}),!c&&(0,n.jsx)(G,{className:"mt-3 px-5",isUserProfile:o,isFollowing:a,username:x,sellerInfo:p})]})}function el(e){var s=e.user,t=e.posts,r=e.postsPager,c=e.isUserProfile,u=e.isFollowing,d=e.fetchPage,m=e.pending,x=e.activePostInModal,p=e.setActivePostInModal,f=(0,l.C)().isDesktop,v=(0,i.useRouter)(),h=Boolean(x),j=function(e){return function(){if(x){var s=x.itemIndex+e,n=t[s];if(!(s<0)){if(!n&&s+1<(null==r?void 0:r.pagerTotalItems))return d(r.pagerCurrentPage+1);p(n)}}}};return!m&&(0,a.x)(s)&&!c?(0,n.jsx)("div",{className:"my-10",children:(0,n.jsx)(R.T,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eo,{className:"mt-2 mb-5",user:s,postsCount:(null==r?void 0:r.pagerTotalItems)||0,isUserProfile:c,isFollowing:u,isStatisticsLoading:m&&(0,a.x)(s)}),(0,n.jsx)(E,{user:s,className:"mb-5 pr-5 lg:px-6"}),(0,n.jsx)(J,{className:"lg:mx-6",posts:t,postsPager:r,fetchPage:d,pending:m,onPostClick:function(e){f?p(e):v.push((0,o.SQ)(e.postId))},isUserProfile:c}),(0,n.jsx)(g,{post:x,pending:m,isOpen:h,onDismiss:function(){return p(null)},onNextPostButtonClick:j(1),onPreviousPostButtonClick:j(-1),hasNextButton:(null==x?void 0:x.itemIndex)+1<(null==r?void 0:r.pagerTotalItems),hasPreviousButton:(null==x?void 0:x.itemIndex)>0})]})}},47140:function(e,s,t){"use strict";t.d(s,{v:function(){return n}});var n={followers:0,following:1}},89763:function(e,s,t){"use strict";t.d(s,{F:function(){return c}});var n=t(52322),i=t(59437),o=t(73739),l=t(26442),a=t(27314),r=t(72677);function c(e){var s=e.className,t=(0,a.e)().redirect;return(0,n.jsxs)("div",{className:(0,r.d)("border-complete rounded p-3 flex flex-col lg:flex-row justify-between items-center",s),children:[(0,n.jsx)(o.k,{mode:"normal",color:"yellow",size:"small",className:"self-start",children:"برای استفاده از امکانات کامل از اپلیکشن استفاده کنید."}),(0,n.jsx)(i.e,{mode:"anchor",label:"نصب دیجی‌کالا",onClick:function(){return t({url:l.jT})},className:"self-end"})]})}},74136:function(e,s,t){"use strict";t.d(s,{l:function(){return d}});var n=t(66383),i=t(2784),o=t(45227),l=t(1324),a=(0,l.q)({url:function(e){var s=e.username;return"magnet/users/".concat(s,"/follow/")},type:o.XN.POST}),r=(0,l.q)({url:function(e){var s=e.username;return"magnet/users/".concat(s,"/unfollow/")},type:o.XN.POST}),c=t(98634),u=t(11559);function d(e){var s=e.isFollowing,t=e.onSuccess,o=void 0===t?c.ZT:t,l=e.username,d=(0,n.Z)((0,i.useState)(s),2),m=d[0],x=d[1];(0,i.useEffect)(function(){x(s)},[s]);var p=(0,u.E)({apiMethod:a,onSuccess:function(){x(!0),o(!0)}}),f=p.request,v=p.pending,g=(0,u.E)({apiMethod:r,onSuccess:function(){x(!1),o(!1)}}),h=g.request,j=g.pending;return{isFollowing:m,pending:v||j,onFollowStateChangeAction:function(){m?h({username:l}):f({username:l})}}}},19313:function(e){e.exports={mainContainer:"styles_mainContainer___4Yx5",loading:"styles_loading__de94c",mediaContainer:"styles_mediaContainer__ROjNr",infoContainer:"styles_infoContainer__H_wqZ"}},73186:function(e){e.exports={right:"styles_right__bWd56",left:"styles_left__9JtiE"}},54925:function(e){e.exports={header:"styles_header__sq7Vp",modalBody:"styles_modalBody__KDOV_"}},98204:function(e){e.exports={SuggestedUsersItem:"styles_SuggestedUsersItem__DZ2ek"}},838:function(e){e.exports={button:"styles_button__osH_P"}},3162:function(e){e.exports={badge__container:"styles_badge__container__gn15X"}},18453:function(e){e.exports={Divider:"styles_Divider__GD_0T"}},31354:function(e){e.exports={postViewImage:"styles_postViewImage__xxeAC"}}}]);