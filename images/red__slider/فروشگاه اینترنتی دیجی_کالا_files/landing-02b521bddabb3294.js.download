(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633],{1026:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plus/landing",function(){return n(9223)}])},27534:function(e,i,n){"use strict";n.d(i,{M:function(){return s}});var t=n(11259),a=n(12978),r=n(95542),s=(0,n(1324).q)({url:"/digiplus/",transformer:function(e){var i,n,s,u,o,c=e.data||{},l=c.can_buy_subscription,d=c.cta_sentence,p=c.faq,f=c.plans,g=c.user,_=c.subscription;return{digiplusCanBuySubscription:!!l,digiplusPrimaryButtonText:d,digiplusFaqs:null==p?void 0:null===(i=p.map)||void 0===i?void 0:i.call(p,function(e){return(0,r.K)({data:e})}),digiplusPlans:null==f?void 0:null===(n=f.map)||void 0===n?void 0:n.call(f,function(e){return(0,a.G)({data:e})}),digiplusSubscription:(0,t.O)({data:_}),digiplusUser:{userFirstName:(u=(s=g||{}).first_name)||"",userLastName:(o=s.last_name)||"",userName:u?"".concat(u||""," ").concat(o||""):""}}},isPageGetRequest:!0})},9223:function(e,i,n){"use strict";n.r(i),n.d(i,{__getServerSideProps:function(){return C},default:function(){return k}});var t=n(40171),a=n(66383),r=n(52322),s=n(2784),u=n(25237),o=n.n(u),c=n(97729),l=n.n(c),d=n(55124),p=n(88413),f=n(26442),g=n(64177),_=n(80803),P=n(42080),v=n(27314),m=n(87049),S=n(8155),b=n(6013),h=n(41701),D=n(41435),I=n(98661),y=n(27534),E=o()(function(){return n.e(2889).then(n.bind(n,12791)).then(function(e){return e.DigiplusSubscriptionModal})},{loadableGenerated:{webpack:function(){return[12791]}},ssr:!1}),k=(0,h.D)({component:function(e){var i=e.ssrData,n=e.pending,t=(0,_.d)(),u=t.isOpen,o=t.onOpen,c=t.onClose,h=(0,P.e)({isOpen:u}).zIndex,y=(0,_.d)(),k=y.isOpen,C=y.onOpen,T=y.onClose,N=(0,v.e)().redirect,M=(0,a.Z)((0,s.useState)(),2),A=M[0],R=M[1],x=(i||{}).digiplusPlans,w=(0,m.v)(b.p.digiplusData).digiplusIsActivated,F=(0,g.C)(),O=F.isDesktop,V=F.windowWidth;(0,s.useEffect)(function(){(0,D.x)(x)||R(null==x?void 0:x.find(function(e){return null==e?void 0:e.planIsSelected}))},[x]);var q=function(e){(0,S.d0)({clickedItemName:e,widgetName:p.Jy})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:(0,I.t)({title:"پلاس",suffix:"خدمات ویژه کاربران دیجی‌کالا"})})}),(0,r.jsx)(d.fy,{data:i,isPlusUser:w,onOpenSubscriptionModal:function(e){q(e),C()},onGoToProfile:function(){N({url:f.iV})},onGoToKYC:function(){q("kyc button"),N({url:f.s8})},isDesktop:O,isPending:n,onSelectPlan:function(e){return function(){R(e)}},selectedPlan:A,isOpenPerkModal:u,onOpenPerkModal:o,onClosePerkModal:c,zIndex:h,windowWidth:V}),(0,r.jsx)(E,{defaultSelectedPlan:A,isOpenModal:k,onCloseModal:T})]})},getAPIMethods:function(){return[{apiMethod:y.M}]},layoutProps:{chatKey:"digiplus",noContentPadding:!0,desktopFullWidth:!0},noDefaultLoader:!0}),C=(0,t.I)({getSSRMethods:k.getAPIMethods})},53430:function(e,i,n){"use strict";n.d(i,{Sm:function(){return t},VW:function(){return a},fr:function(){return r}});var t={ACTIVE:"ACTIVE",PENDING:"PENDING",INACTIVE:"INACTIVE"},a={ACTIVE:"ACTIVE",ENDED:"ENDED",RESERVED:"RESERVED"},r={PREVIOUS:"previous",CURRENT:"current"}},12978:function(e,i,n){"use strict";function t(e){var i,n,t=e.data||{},a=t.id,r=t.title,s=t.subtitle,u=t.description,o=t.number_of_days,c=t.price,l=t.status,d=t.discount,p=t.discount_percent,f=t.new_user_discount,g=t.new_user_discount_percent,_=t.price_per_month,P=t.partner,v=t.cro_id,m=t.icon,S=t.total_payable_price,b=t.active_direct_debit,h=t.direct_debit_discount_description,D=t.free_shipment_count,I=t.fresh_free_shipment_count,y=t.message,E=t.selected,k=t.recommended,C=t.plan_type;return{planId:a,planCROId:v,planTitle:r,planSubTitle:s,planDescription:u,planBadge:{badgeTitle:(i=({data:t.badge}).data||{}).title,badgeIcon:i.icon},planNumberOfDays:o,planPrice:c,planStatus:l,planDiscount:d,planDiscountPercent:p,planNewUserDiscount:f,planNewUserDiscountPercent:g,planPartner:P,planIcon:m,planTotalPayablePrice:S,planActiveDirectDebit:b,planDirectDebitDiscountDescription:h,planPricePerMonth:_,planFreeShipmentCount:D,planFreshFreeShipmentCount:I,planMessage:{planMessageTitle:(n=y||{}).title,planMessageDescription:n.description,planMessageHideKYCButton:n.hide_kyc_btn,planMessageType:n.type},planIsSelected:E,planIsRecommended:k,planType:C}}n.d(i,{G:function(){return t}})},11259:function(e,i,n){"use strict";n.d(i,{O:function(){return c},x:function(){return o}});var t=n(53430),a=n(41435),r=n(12978),s=n(79968),u={active:t.VW.ACTIVE,ended:t.VW.ENDED,reserved:t.VW.RESERVED};function o(e){var i=e.data||{},n=i.id,t=i.plan_id,a=i.title,r=i.status,s=i.base_free_shipment,u=i.end_date,o=i.payed_price,c=i.purchased_date,l=i.invoice_url;return{digiplusDeliveryPackageId:n,digiplusDeliveryPackagePlanId:t,digiplusDeliveryPackageTitle:a,digiplusDeliveryPackageStatus:r,digiplusDeliveryPackageBaseFreeShipment:s,digiplusDeliveryPackageRemainingFreeShipment:i.remaining_free_shipment,digiplusDeliveryPackagePayedPrice:o,digiplusDeliveryPackagePurchasedDate:c,digiplusDeliveryPackageInvoiceUrl:l,digiplusDeliveryPackageEndDate:u}}function c(e){var i,n,t=e.data||{},c=t.id,l=t.title,d=t.start_at,p=t.end_at,f=t.remaining_days,g=t.all_used_free_shipments,_=t.remaining_free_shipments,P=t.remaining_free_shipments_fresh,v=t.remaining_days_till_start,m=t.total_free_shipments,S=t.status,b=t.price,h=t.discount,D=t.cash_back_details,I=t.has_invoice,y=t.plan,E=t.purchased_packages;return{digiplusSubscriptionId:c,digiplusSubscriptionTitle:l,digiplusSubscriptionStartAt:d,digiplusSubscriptionEndAt:p,digiplusSubscriptionRemainingDays:f,digiplusSubscriptionAllUsedFreeShipments:g,digiplusSubscriptionRemainingFreeShipments:_,digiplusSubscriptionRemainingFreeShipmentsFresh:P,digiplusSubscriptionRemainingDaysTillStart:v,digiplusSubscriptionTotalFreeShipments:m,digiplusSubscriptionStatus:u[S],digiplusSubscriptionPlan:(0,r.G)({data:y}),digiplusSubscriptionPurchasedPackages:null==E?void 0:null===(i=E.map)||void 0===i?void 0:i.call(E,function(e){return o({data:e})}),digiplusSubscriptionPrice:b,digiplusSubscriptionDiscount:h,digiplusSubscriptionCashBack:{digiplusCashbackPaidAmount:(n=D||{}).paid,digiplusCashbackPendingAmount:n.pending,digiplusCashbackTotalAmount:n.total},digiplusSubscriptionHasInvoice:!(0,a.x)(I),digiplusSubscriptionInvoiceLink:(0,s.f)({data:I})}}},95542:function(e,i,n){"use strict";n.d(i,{K:function(){return o}});var t=n(70865),a=n(64248),r=n(70582),s=n(79968),u=n(75743);function o(e){var i,n=e.data,o=e.prefix,c=n||{},l=c.id,d=c.title,p=c.see_more_url,f=c.icon,g=c.questions,_=(0,r.W)({data:f,prefix:"faqIcon"});return(0,a.Y)((0,t.Z)({faqIcon:(0,r.W)({data:f}),faqId:l,faqTitle:d,faqSeeMoreUrl:(0,s.f)({data:p}),faqQuestions:(null==g?void 0:null===(i=g.map)||void 0===i?void 0:i.call(g,function(e){return(0,u.Q)({data:e})}))||[]},_),{prefix:o})}},41701:function(e,i,n){"use strict";function t(e){var i=e.component,n=e.getAPIMethods,t=e.layoutProps,a=e.isPrivate,r=e.noDefaultLoader,s=e.pageActivatorFeature,u=e.redirectIfLogin,o=e.afterLogin,c=e.disableSSR,l=e.dataProps;return i.getAPIMethods=n,i.layoutProps=t,i.isPrivate=a,i.noDefaultLoader=r,i.pageActivatorFeature=s,i.redirectIfLogin=u,i.afterLogin=o,i.disableSSR=c,i.dataProps=l,i}n.d(i,{D:function(){return t}})},98661:function(e,i,n){"use strict";function t(e){var i=e.title,n=void 0===i?"":i,t=e.suffix,a=void 0===t?"":t,r=e.prefix,s=void 0===r?"":r;return"".concat(s?"".concat(s," - "):"","دیجی‌کالا").concat(n?" - ".concat(n):"").concat(a?" - ".concat(a):"")}n.d(i,{t:function(){return t}})}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=1026)}),_N_E=e.O()}]);